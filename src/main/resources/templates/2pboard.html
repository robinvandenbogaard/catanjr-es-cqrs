<svg width="1024" height="768" viewBox="0 0 476 300" xmlns="http://www.w3.org/2000/svg" class="board">
    <!-- Define the hexagon shape once -->
    <defs>
        <polygon id="hex-sword" points="0,25 50,0 100,25 100,75 50,100 0,75" style="fill: steelblue;"/>
        <polygon id="hex-sheep" points="0,25 50,0 100,25 100,75 50,100 0,75" style="fill: green;"/>
        <polygon id="hex-gold" points="0,25 50,0 100,25 100,75 50,100 0,75" style="fill: gold;"/>
        <polygon id="hex-wood" points="0,25 50,0 100,25 100,75 50,100 0,75" style="fill: saddlebrown;"/>
        <polygon id="hex-pineapple" points="0,25 50,0 100,25 100,75 50,100 0,75" style="fill: orange;"/>
        <circle id="circle-shape-2" r="8" transform="translate(12,-5)"/>
        <circle id="circle-shape-3" r="8" transform="translate(12,10)"/>
        <circle id="circle-shape-4" r="8" transform="translate(0,15)"/>
        <circle id="circle-hexface-1" r="5" transform="translate(-5,-12)"/>
        <circle id="circle-hexface-2" r="5" transform="translate(5,-12)"/>
        <circle id="circle-hexface-3" r="5" transform="translate(12,0)"/>
    </defs>

    <!-- Group to contain the hexagons for the landtiles -->
    <g id="land-tiles">
        <g id="hex-top" transform="translate(0, 0)">
            <use href="#hex-sword" transform="translate(0, 25)"/>
            <use href="#hex-sheep" transform="translate(125, 25)"/>
            <use href="#hex-wood" transform="translate(250, 25)"/>
        </g>
        <g id="hex-middle" transform="translate(63, 100)">
            <use href="#hex-pineapple" transform="translate(0, 25)"/>
            <use href="#hex-gold" transform="translate(125, 25)"/>
            <use href="#hex-pineapple" transform="translate(250, 25)"/>
        </g>
        <g id="hex-bottom" transform="translate(126, 200)">
            <use href="#hex-wood" transform="translate(0, 25)"/>
            <use href="#hex-sheep" transform="translate(125, 25)"/>
            <use href="#hex-sword" transform="translate(250, 25)"/>
        </g>
    </g>

    <!-- Group to contain the circles for the fort sites -->
    <g id="fort-sites">
        <g id="row1-forts">
            {% for id in ['2', '7'] %}
            <use href="#circle-shape-2" id="{{ id }}" fill="{{ fortSiteColors[id] }}"
                 transform="translate({{ 100 + (loop.index*125) }}, 50)"
                 {% if fortSiteColors[id]=='grey' %}
                 class="fortNotOccupied"
                 hx-post="game/buyFort/{{ id }}"
                 hx-swap="none"
                 {% endif -%}
            />
            {% endfor -%}
        </g>
        <g id="row2-forts">
            {% for id in ['1', '3', '5', '8', '11', '13'] %}
            <use href="#circle-shape-{{ loop.index % 2 == 0 ? 4 : 3}}" id="{{ id }}" fill="{{ fortSiteColors[id] }}"
                 transform="translate({{ 50 + (loop.index*50) + ((loop.index/2)*25) }}, {{ loop.index % 2 == 0 ? 125 : 100 }})"
                 {% if fortSiteColors[id]=='grey' %}
                 class="fortNotOccupied"
                 hx-post="game/buyFort/{{ id }}"
                 hx-swap="none"
                 {% endif -%}
            />
            {% endfor -%}
        </g>
        <g id="row3-forts" transform="translate(63, 100)">
            {% for id in ['4', '6', '9', '12', '14', '16'] %}
            <use href="#circle-shape-{{ loop.index % 2 == 0 ? 4 : 3}}" id="{{ id }}" fill="{{ fortSiteColors[id] }}"
                 transform="translate({{ 50 + (loop.index*50) + ((loop.index/2)*25) }}, {{ loop.index % 2 == 0 ? 125 : 100 }})"
                 {% if fortSiteColors[id]=='grey' %}
                 class="fortNotOccupied"
                 hx-post="game/buyFort/{{ id }}"
                 hx-swap="none"
                 {% endif -%}
            />
            {% endfor -%}
        </g>
        <g id="row4-forts" transform="translate(126, 200)">
            {% for id in ['10', '15'] %}
            <use href="#circle-shape-3" id="{{ id }}" fill="{{ fortSiteColors[id] }}"
                 transform="translate({{ 100 + (loop.index*125) }}, 100)"
                 {% if fortSiteColors[id]=='grey' %}
                 class="fortNotOccupied"
                 hx-post="game/buyFort/{{ id }}"
                 hx-swap="none"
                 {% endif -%}
            />
            {% endfor -%}
        </g>
    </g>

    <!-- Group to contain the circles for the ship yards -->
    <g id="ship-yards">
        <g id="row1-ships">
            {% for id in ['2-3', '7-8'] %}
            <use href="#circle-hexface-3" id="{{ id }}" fill="{{ shipYardColors[id] }}"
                 transform="translate({{ 100 + (loop.index*125) }}, 75)"
                 {% if shipYardColors[id]=='grey' %}
                 class="shipNotOccupied"
                 hx-post="game/buyShip/{{ id }}"
                 hx-swap="none"
                 {% endif -%}
            />
           {% endfor -%}
        </g>

        <g id="row2-ships" transform="translate(63, 100)">
            <use href="#circle-hexface-1" id="1-3" fill="grey"
                 transform="translate(25, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-2" id="3-5" fill="grey"
                 transform="translate(75, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-1" id="5-8" fill="grey"
                 transform="translate(150, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-2" id="8-11" fill="grey"
                 transform="translate(200, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-1" id="11-13" fill="red"
                 transform="translate(275, 37)"
                 class="shipNotOccupied"/>
        </g>

        <g id="row3-ships" transform="translate(63,100)">
            <use href="#circle-hexface-3" id="5-6" fill="grey"
                 transform="translate(100, 75)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-3" id="11-12" fill="grey"
                 transform="translate(225, 75)"
                 class="shipNotOccupied"/>
        </g>

        <g id="row4-ships" transform="translate(126, 200)">
            <use href="#circle-hexface-1" id="4-6" fill="purple"
                 transform="translate(25, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-2" id="6-9" fill="grey"
                 transform="translate(75, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-1" id="9-12" fill="grey"
                 transform="translate(150, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-2" id="12-14" fill="grey"
                 transform="translate(200, 37)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-1" id="14-16" fill="grey"
                 transform="translate(275, 37)"
                 class="shipNotOccupied"/>
        </g>

        <g id="row5-ships" transform="translate(126, 200)">
            <use href="#circle-hexface-3" id="9-10" fill="grey"
                 transform="translate(100, 75)"
                 class="shipNotOccupied"/>
            <use href="#circle-hexface-3" id="14-15" fill="purple"
                 transform="translate(225, 75)"
                 class="shipNotOccupied"/>
        </g>
    </g>
</svg>
